(window.webpackJsonp=window.webpackJsonp||[]).push([[135],{494:function(a,s,e){"use strict";e.r(s);var r=e(7),t=Object(r.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"docker常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker常用命令"}},[a._v("#")]),a._v(" Docker常用命令")]),a._v(" "),s("h1",{attrs:{id:"在linux中安装docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#在linux中安装docker"}},[a._v("#")]),a._v(" 在Linux中安装docker")]),a._v(" "),s("p",[s("a",{attrs:{href:"https://www.notion.so/85-Docker-Linux-Docker-5c9f06b962a848d48fe80617aff62560?pvs=21",target:"_blank",rel:"noopener noreferrer"}},[a._v("(85条消息) Docker安装指南——如何在Linux中安装Docker？"),s("OutboundLink")],1)]),a._v(" "),s("h1",{attrs:{id:"docker-运行redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-运行redis"}},[a._v("#")]),a._v(" Docker 运行redis")]),a._v(" "),s("p",[a._v("docker run -p 6379:6379 "),s("br"),a._v("\n--name redis04 "),s("br"),a._v("\n--privileged=true "),s("br"),a._v("\n-v D:/dockerApp/redis/redis04/conf:/etc/redis/conf "),s("br"),a._v("\n-v D:/dockerApp/redis/redis04/data:/data "),s("br"),a._v("\n-d redis:latest "),s("br"),a._v("\nredis-server /etc/redis/conf/redis.conf "),s("br"),a._v("\n--appendonly yes")]),a._v(" "),s("p",[s("strong",[a._v("不要使用这种方式，直接使用线上云redis")])]),a._v(" "),s("p",[a._v("[root@vm1029731 ~]# docker run -it -p 6379:6379 --name redis03 -it -v /home/redis/redis03/conf/:/etc/redis/ -v /home/redis/redis03/data/:/data/ --net network redis /bin/bash")]),a._v(" "),s("p",[a._v("docker exec -d redis03 redis-server")]),a._v(" "),s("p",[a._v("docker exec -it redis03 /bin/bash")]),a._v(" "),s("p",[s("a",{attrs:{href:"Docker%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%204bd80f7426b8451aa2809291de85f546/redis.conf"}},[a._v("redis.conf")])]),a._v(" "),s("p",[a._v("要修改三处命令才能远程访问")]),a._v(" "),s("ol",[s("li",[a._v("把bind的ip删掉")]),a._v(" "),s("li",[a._v("把protectmode改成no")]),a._v(" "),s("li",[a._v("设置requrepass")])]),a._v(" "),s("h1",{attrs:{id:"docker搭建mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker搭建mysql"}},[a._v("#")]),a._v(" Docker搭建mysql")]),a._v(" "),s("p",[a._v("docker run -dp 3306:3306 --name lcf-mysql -e MYSQL_ROOT_PASSWORD=88488848 -d mysql:5.7")]),a._v(" "),s("p",[s("em",[s("strong",[a._v("这个时候使用jetbrains的数据库连接，账号是root，密码时88488848")])])]),a._v(" "),s("h1",{attrs:{id:"doker搭建zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#doker搭建zookeeper"}},[a._v("#")]),a._v(" Doker搭建zookeeper")]),a._v(" "),s("div",{staticClass:"language-java line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-java"}},[s("code",[a._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("d "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Asia/Shanghai"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2181")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2181")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v\\\n "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("root"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("docker"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("zookeeper"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("data "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name zookeeper "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("restart always zookeeper\n\n# "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Asia/Shanghai"')]),a._v(" 设置时区\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("Docker Dubbo-admin")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#改好的")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" dubbo-admin "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/dubbo/dubbo-admin:/data "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8180")]),a._v(":8080 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--net")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_REGISTRY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zookeeper:\\/\\/192.168.0.2:2181"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_GUEST_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("88488848")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always chenchuxin/dubbo-admin\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#这一条要修改")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" dubbo-admin "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/dubbo/dubbo-admin:/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8180")]),a._v(":8080 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n\t\t"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-net")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("192.168")]),a._v(".0.1 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_REGISTRY")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"zookeeper:\\/\\/192.168.0.2:2181"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("DUBBO_GUEST_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("88488848")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n    chenchuxin/dubbo-admin\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 注意 -e DUBBO_REGISTRY=zookeeper://ip:port  填写自己的zookeeper ip和端口号")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -e DUBBO_ROOT_PASSWORD 配置控制台root账号 密码")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# -e DUBBO_GUEST_PASSWORD 配置控制台guest账号 密码")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#-v 是宿主机与容器的挂载目录")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#-p 是访问的端口号")]),a._v("\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br")])]),s("h1",{attrs:{id:"docker-安装portainer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-安装portainer"}},[a._v("#")]),a._v(" Docker 安装Portainer")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9000")]),a._v(":9000 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /var/run/docker.sock:/var/run/docker.sock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" prtainer portainer/portainer\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h1",{attrs:{id:"docker安装nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装nginx"}},[a._v("#")]),a._v(" Docker安装nginx")]),a._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[a._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("d "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name mynginx "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("html"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("usr"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("share"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("html "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("conf"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("etc"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("nginx "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(" \n"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("p "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("443")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("443")]),a._v(" \nnginx\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br")])]),s("p",[a._v("module.exports = {\nNAME: '林木',\nNICKNAME: '林木',\nMEMORIAL_DAY: '2015/04/18',\nCITY: '无锡',\nSENDDATE: '0 6 8 * * *',\nTXAPIKEY: '124fbc5ba52c7a827cc5542868bc107f'\n}")]),a._v(" "),s("div",{staticClass:"language-jsx line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-jsx"}},[s("code",[a._v("docker run "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("e "),s("span",{pre:!0,attrs:{class:"token constant"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Asia/Shanghai"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("d "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("chatBot "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("v "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("home"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("wechatbot"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("bot"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("config aibotk"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("wechat"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("bot\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h1",{attrs:{id:"docker安装wechat-bot-微信机器人"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装wechat-bot-微信机器人"}},[a._v("#")]),a._v(" Docker安装wechat-bot(微信机器人)")]),a._v(" "),s("p",[a._v("docker run -d --name wechat-bot -v $(pwd)/.env:/app/.env wechat-bot")]),a._v(" "),s("h1",{attrs:{id:"docker安装coder-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装coder-server"}},[a._v("#")]),a._v(" Docker安装coder-server")]),a._v(" "),s("p",[a._v("docker run -d "),s("br"),a._v("\n-p 8081:8080 "),s("br"),a._v('\n-v "$HOME/.config/code-server:/home/coder/.config/code-server" '),s("br"),a._v('\n-v "$HOME/projects:/home/coder/projects" '),s("br"),a._v("\ncodercom/code-server:latest")]),a._v(" "),s("p",[a._v("docker run -d -p 8081:8080 -v C:\\Users\\Dream.config\\code-server:/home/coder/.config/code-server -v C:\\Users\\Dream\\projects:/home/coder/projects codercom/code-server:latest")]),a._v(" "),s("p",[a._v("docker run -d -p 8081:8080 -v C:\\Users\\Admin.config.config\\code-server:/home/coder/.config/code-server -v C:\\Users\\Admin\\projects:/home/coder/projects codercom/code-server:latest")]),a._v(" "),s("p",[a._v("C:\\Users\\Admin.config")]),a._v(" "),s("h1",{attrs:{id:"docker安装ubuntu和ssh-开机不会自启动"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装ubuntu和ssh-开机不会自启动"}},[a._v("#")]),a._v(" Docker安装ubuntu和ssh（开机不会自启动）")]),a._v(" "),s("p",[a._v("这种方式ssh服务器不会开机自启动\ndocker run -itd --name my_ubuntu_container -p 3307:22 -v C:\\Users\\Admin\\projects:/projects ubuntu")]),a._v(" "),s("ul",[s("li",[a._v("docker exec -it my_ubuntu_container bash\n进入ubuntu")]),a._v(" "),s("li",[a._v("apt update")]),a._v(" "),s("li",[a._v("apt install openssh-server -y")]),a._v(" "),s("li",[a._v("apt install vim -y")]),a._v(" "),s("li",[a._v("service ssh start")]),a._v(" "),s("li",[a._v("启动ssh服务器")]),a._v(" "),s("li",[a._v("passwd\n密码修改19970321cm")]),a._v(" "),s("li",[a._v("vim /etc/ssh/sshd_config\n找到PermitRootLogin yes")]),a._v(" "),s("li",[a._v("重启ssh\nservice ssh restart")]),a._v(" "),s("li",[a._v("退出\nexit")])]),a._v(" "),s("h1",{attrs:{id:"docker安装ubuntu-ssh-带守护进程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装ubuntu-ssh-带守护进程"}},[a._v("#")]),a._v(" Docker安装ubuntu+ssh(带守护进程)")]),a._v(" "),s("p",[a._v("使用自己创建的dockerfile\ndocker run -ti -p 3307:22 -v C:\\Users\\Admin\\projects:/projects --name ubuntu_ssh_container ubuntu-ssh")]),a._v(" "),s("h1",{attrs:{id:"docker安装postgres"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker安装postgres"}},[a._v("#")]),a._v(" Docker安装postgres")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("docker run -d --name pg-container -e POSTGRES_PASSWORD=SecurePass123! -e POSTGRES_USER=meng -e POSTGRES_DB=appdb -p 5432:5432 -v C:\\docker\\pgdata:/var/lib/postgresql/data --restart unless-stopped postgres:16 -c max_connections=300 -c shared_buffers=512MB\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h1",{attrs:{id:"docker自动启动容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker自动启动容器"}},[a._v("#")]),a._v(" Docker自动启动容器")]),a._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("docker update "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("restart=always <containerName>\n\ndocker update "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("restart=always 078494b68cfc\ndocker update "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("restart=always b037a511da06\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h1",{attrs:{id:"docker一键部署脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker一键部署脚本"}},[a._v("#")]),a._v(" Docker一键部署脚本")]),a._v(" "),s("p",[a._v("Debian/Ubuntu")]),a._v(" "),s("p",[a._v("apt update -y  && apt install -y curl")]),a._v(" "),s("p",[a._v("CentOS")]),a._v(" "),s("p",[a._v("yum update && yum install curl")]),a._v(" "),s("p",[a._v("运行脚本\n官网版")]),a._v(" "),s("p",[a._v("curl -sS -O https://kejilion.pro/kejilion.sh && chmod +x kejilion.sh && ./kejilion.sh")]),a._v(" "),s("p",[a._v("GitHub版 部分小伙伴会遇到官网版出现大段乱码！就用GitHub版本吧！")]),a._v(" "),s("p",[a._v("curl -sS -O https://raw.githubusercontent.com/kejilion/sh/main/kejilion.sh && chmod +x kejilion.sh && ./kejilion.sh")]),a._v(" "),s("p",[a._v("国内服务器版")]),a._v(" "),s("p",[a._v("curl -sS -O https://raw.gitmirror.com/kejilion/sh/main/cn/kejilion.sh && chmod +x kejilion.sh && ./kejilion.sh")]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"20240629141956","data-src":"https://raw.githubusercontent.com/BigDragonlin/blog-image/main/20240629141956.png",loading:"lazy"}})]),a._v(" "),s("p",[s("img",{staticClass:"lazy",attrs:{alt:"20240629142032","data-src":"https://raw.githubusercontent.com/BigDragonlin/blog-image/main/20240629142032.png",loading:"lazy"}})]),a._v(" "),s("ul",[s("li",[a._v("完成后按k键进入脚本工具箱")])]),a._v(" "),s("h1",{attrs:{id:"docker上的镜像推送到dockerhub"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker上的镜像推送到dockerhub"}},[a._v("#")]),a._v(" Docker上的镜像推送到dockerhub")]),a._v(" "),s("p",[a._v("将 Docker 镜像推送到 Docker Hub 的过程涉及几个步骤，包括标记你的镜像、登录到 Docker Hub，然后推送镜像。下面是这个过程的详细步骤：")]),a._v(" "),s("h3",{attrs:{id:"_1-安装-docker"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装-docker"}},[a._v("#")]),a._v(" 1. 安装 Docker")]),a._v(" "),s("p",[a._v("首先确保你的机器上安装了 Docker。可以通过在终端运行 "),s("code",[a._v("docker --version")]),a._v(" 来检查是否已经安装了 Docker。")]),a._v(" "),s("h3",{attrs:{id:"_2-创建或获取你的镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建或获取你的镜像"}},[a._v("#")]),a._v(" 2. 创建或获取你的镜像")]),a._v(" "),s("p",[a._v("你可以创建一个新的 Docker 镜像或使用已有的镜像。如果是新建镜像，通常会有一个 "),s("code",[a._v("Dockerfile")]),a._v("，通过以下命令构建镜像：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" myimage "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-标记你的镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-标记你的镜像"}},[a._v("#")]),a._v(" 3. 标记你的镜像")]),a._v(" "),s("p",[a._v("在推送镜像到 Docker Hub 前，你需要给你的镜像打上标签，这个标签应包含你的 Docker Hub 用户名、仓库名和标签。例如，如果你的 Docker Hub 用户名是 "),s("code",[a._v("username")]),a._v(" 并且你想将镜像命名为 "),s("code",[a._v("myapp")]),a._v("，你可以使用以下命令：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" tag myimage username/myapp:latest\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这里 "),s("code",[a._v("latest")]),a._v(" 表示标签，你可以根据需要使用不同的标签名称。")]),a._v(" "),s("h3",{attrs:{id:"_4-登录到-docker-hub"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-登录到-docker-hub"}},[a._v("#")]),a._v(" 4. 登录到 Docker Hub")]),a._v(" "),s("p",[a._v("在推送镜像之前，你需要登录到你的 Docker Hub 账户。使用以下命令进行登录：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" login\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("你将被提示输入你的 Docker Hub 用户名和密码。成功登录后，你就可以推送镜像了。")]),a._v(" "),s("h3",{attrs:{id:"_5-推送镜像到-docker-hub"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-推送镜像到-docker-hub"}},[a._v("#")]),a._v(" 5. 推送镜像到 Docker Hub")]),a._v(" "),s("p",[a._v("一旦镜像被正确标记并且你已登录，就可以通过以下命令将镜像推送到 Docker Hub：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" push username/myapp:latest\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("确保使用与你之前标记镜像时相同的标签。")]),a._v(" "),s("h1",{attrs:{id:"使用dockerfile构建image"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用dockerfile构建image"}},[a._v("#")]),a._v(" 使用Dockerfile构建image")]),a._v(" "),s("ul",[s("li",[a._v("构建 Docker 镜像\n在项目根目录下（与 "),s("code",[a._v("Dockerfile")]),a._v(" 位于同一目录），打开终端并运行以下命令：")])]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" build "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-t")]),a._v(" wechat-bot "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v(".")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("-- 解释命令")]),a._v(" "),s("ul",[s("li",[s("p",[s("strong",[s("code",[a._v("docker build")])]),a._v("：构建 Docker 镜像的命令。")])]),a._v(" "),s("li",[s("p",[s("strong",[s("code",[a._v("-t wechat-bot")])]),a._v("：为构建的镜像添加标签（tag），这里命名为 "),s("code",[a._v("wechat-bot")]),a._v("。")])]),a._v(" "),s("li",[s("p",[s("strong",[s("code",[a._v(".")])]),a._v("：指定构建上下文为当前目录，即 Docker 将在此目录中查找 "),s("code",[a._v("Dockerfile")]),a._v(" 及相关文件。")])]),a._v(" "),s("li",[s("p",[a._v("构建过程")])])]),a._v(" "),s("p",[a._v("构建过程中，Docker 会按照 "),s("code",[a._v("Dockerfile")]),a._v(" 中的指令逐步执行，并生成最终的镜像。成功构建后，您可以通过以下命令查看本地镜像列表：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" imagesn\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("应看到类似如下输出：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("REPOSITORY    TAG       IMAGE ID       CREATED         SIZE\nwechat-bot    latest    abcdef123456   2 minutes ago   900MB\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h2",{attrs:{id:"_4-运行-docker-容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-运行-docker-容器"}},[a._v("#")]),a._v(" 4. 运行 Docker 容器")]),a._v(" "),s("p",[a._v("使用构建好的镜像运行容器。假设您已经准备好 "),s("code",[a._v(".env")]),a._v(" 文件用于配置环境变量，可以使用以下命令：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" wechat-bot "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/.env:/app/.env wechat-bot\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"解释命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解释命令"}},[a._v("#")]),a._v(" 解释命令")]),a._v(" "),s("ul",[s("li",[s("strong",[s("code",[a._v("docker run")])]),a._v("：运行一个新的容器。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v("-d")])]),a._v("：让容器在后台（detached mode）运行。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v("--rm")])]),a._v("：容器停止后自动删除，避免积累未使用的容器。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v("--name wechat-bot")])]),a._v("：为容器指定名称 "),s("code",[a._v("wechat-bot")]),a._v("，便于管理。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v("-v $(pwd)/.env:/app/.env")])]),a._v("：挂载主机当前目录下的 "),s("code",[a._v(".env")]),a._v(" 文件到容器内的 "),s("code",[a._v("/app/.env")]),a._v("。这样，容器内的应用可以读取主机上的环境变量配置。\n"),s("ul",[s("li",[s("strong",[s("code",[a._v("-v")])]),a._v("：指定挂载卷。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v("$(pwd)/.env")])]),a._v("：主机上的 "),s("code",[a._v(".env")]),a._v(" 文件路径，"),s("code",[a._v("$(pwd)")]),a._v(" 会被当前工作目录替换。")]),a._v(" "),s("li",[s("strong",[s("code",[a._v(":/app/.env")])]),a._v("：容器内的目标路径。")])])]),a._v(" "),s("li",[s("strong",[s("code",[a._v("wechat-bot")])]),a._v("：指定要运行的镜像名称。")])]),a._v(" "),s("h3",{attrs:{id:"运行过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行过程"}},[a._v("#")]),a._v(" 运行过程")]),a._v(" "),s("p",[a._v("执行上述命令后，Docker 会基于 "),s("code",[a._v("wechat-bot")]),a._v(" 镜像创建并启动一个名为 "),s("code",[a._v("wechat-bot")]),a._v(" 的容器。容器将在后台运行，且在停止后自动删除。")]),a._v(" "),s("h2",{attrs:{id:"_5-验证容器运行状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-验证容器运行状态"}},[a._v("#")]),a._v(" 5. 验证容器运行状态")]),a._v(" "),s("p",[a._v("您可以使用以下命令查看正在运行的容器：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("应看到类似如下输出：")]),a._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('CONTAINER ID   IMAGE         COMMAND                  CREATED          STATUS          PORTS     NAMES\n123abc456def   wechat-bot    "python main.py"         10 seconds ago   Up 8 seconds              wechat-bot\n')])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("h3",{attrs:{id:"查看容器日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看容器日志"}},[a._v("#")]),a._v(" 查看容器日志")]),a._v(" "),s("p",[a._v("若要查看容器的输出日志，可以使用：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" logs wechat-bot\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("p",[a._v("这将显示容器运行时的标准输出，有助于调试和监控。")]),a._v(" "),s("h3",{attrs:{id:"停止容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止容器"}},[a._v("#")]),a._v(" 停止容器")]),a._v(" "),s("p",[a._v("由于使用了 "),s("code",[a._v("-d")]),a._v(" 和 "),s("code",[a._v("--rm")]),a._v(" 选项，容器将在您手动停止后自动删除。要停止容器，可以使用：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" stop wechat-bot\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"_6-额外配置-可选"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-额外配置-可选"}},[a._v("#")]),a._v(" 6. 额外配置（可选）")]),a._v(" "),s("h3",{attrs:{id:"绑定端口"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绑定端口"}},[a._v("#")]),a._v(" 绑定端口")]),a._v(" "),s("p",[a._v("如果您的应用需要通过特定端口与外界通信（例如，Web 服务），可以在 "),s("code",[a._v("docker run")]),a._v(" 命令中添加端口映射。例如，将容器的 8000 端口映射到主机的 8000 端口：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" wechat-bot "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[a._v("$(")]),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("pwd")]),s("span",{pre:!0,attrs:{class:"token variable"}},[a._v(")")])]),a._v("/.env:/app/.env "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8000")]),a._v(":8000 wechat-bot\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("ul",[s("li",[s("strong",[s("code",[a._v("-p 8000:8000")])]),a._v("：将主机的 8000 端口映射到容器的 8000 端口。")])]),a._v(" "),s("h3",{attrs:{id:"使用-docker-compose"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-compose"}},[a._v("#")]),a._v(" 使用 Docker Compose")]),a._v(" "),s("p",[a._v("对于更复杂的应用，您可以使用 "),s("code",[a._v("Docker Compose")]),a._v(" 来管理多容器应用和配置。以下是一个示例 "),s("code",[a._v("docker-compose.yml")]),a._v(" 文件：")]),a._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v("'3.8'")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("services")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wechat-bot")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("build")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" .\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("container_name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" wechat"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("bot\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("env_file")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" .env\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("volumes")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v(" .env"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("/app/.env\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("restart")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" unless"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("-")]),a._v("stopped\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# ports:")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v('#   - "8000:8000"')]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br")])]),s("h3",{attrs:{id:"使用-docker-compose-构建和运行"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-docker-compose-构建和运行"}},[a._v("#")]),a._v(" 使用 Docker Compose 构建和运行")]),a._v(" "),s("ol",[s("li",[s("p",[s("strong",[a._v("构建镜像并启动服务")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" up "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("查看服务状态")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("查看日志")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" logs "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-f")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])]),a._v(" "),s("li",[s("p",[s("strong",[a._v("停止服务")]),a._v("：")]),a._v(" "),s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker-compose")]),a._v(" down\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])])])]),a._v(" "),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[a._v("#")]),a._v(" 总结")]),a._v(" "),s("p",[a._v("通过以上步骤，您可以：")]),a._v(" "),s("ol",[s("li",[s("strong",[a._v("编写 "),s("code",[a._v("Dockerfile")])]),a._v("：定义镜像构建过程。")]),a._v(" "),s("li",[s("strong",[a._v("构建 Docker 镜像")]),a._v("：使用 "),s("code",[a._v("docker build")]),a._v(" 命令生成镜像。")]),a._v(" "),s("li",[s("strong",[a._v("运行 Docker 容器")]),a._v("：使用 "),s("code",[a._v("docker run")]),a._v(" 命令启动容器，并挂载必要的配置文件。")]),a._v(" "),s("li",[s("strong",[a._v("管理容器")]),a._v("：通过 "),s("code",[a._v("docker ps")]),a._v("、"),s("code",[a._v("docker logs")]),a._v(" 等命令监控和管理容器。")])]),a._v(" "),s("p",[a._v("如果您在任何步骤中遇到问题或有进一步的疑问，欢迎继续提问！")]),a._v(" "),s("h3",{attrs:{id:"_6-验证"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-验证"}},[a._v("#")]),a._v(" 6. 验证")]),a._v(" "),s("p",[a._v("登录到你的 Docker Hub 账户，检查仓库里是否已经有了你刚刚推送的镜像。")]),a._v(" "),s("p",[a._v("这些是推送 Docker 镜像到 Docker Hub 的基本步骤。如果你在推送过程中遇到任何问题，可以检查网络连接，或者确保所有命令中的用户名和镜像名称都正确无误。")])])}),[],!1,null,null,null);s.default=t.exports}}]);